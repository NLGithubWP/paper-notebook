I"Ò<h2 id="1-allocated-tasks">1. Allocated tasks</h2>

<p>xingnaili: Implement the first 4 transcations in driver for both workloads, do some optimizaitons. and cluster settings</p>

<p>Daifei: Implement the last 4 transcations in driver for both workloads, do some optimizaitons. and cluster settings</p>

<h2 id="2-completed-tasks">2. Completed tasks</h2>

<h3 id="cluster-setting">cluster setting</h3>

<ol>
  <li>install and run cockraochDB cluster on servers</li>
</ol>

<h3 id="schema-design">schema design</h3>

<ol>
  <li>design the schema for workloadA and B</li>
  <li>De-normalization to faciliate reads workloads</li>
  <li>Build indexs on each table, for write heavy transaction, use UUID as primary key to avoid hot pot</li>
  <li>For table with many read-only operations over the application, like table ‚Äúitem‚Äù, we manually split it to 5 ranges.</li>
  <li>Assign frequently updated column to a single family for each table</li>
  <li>Enable multiple advanced setting like experimental_enable_hash_sharded_indexes, load-splitting threshold</li>
</ol>

<h3 id="driver-implementation">Driver implementation</h3>

<ol>
  <li>Analys the each table‚Äôs reques load on 8 transactions.</li>
  <li>Implemented 8 transactions</li>
  <li>Do some optimizations based on following rules:
    <ol>
      <li>Make sure each sql use indexs, avoid full-scan</li>
      <li>Avoid multiple client-server exchanges per transaction, group select, insert etc together in single SQL, using ‚Äúwith‚Ä¶‚Äù</li>
      <li>For insert operation, use batch insert in single sql.</li>
      <li>For update and then select scenario, using returing keyword</li>
      <li>For read-only tables, try with ‚Äúfollower_read‚Äù but failed. It ask for licences</li>
    </ol>
  </li>
  <li>Record the evluation matrix, including number of transactions, latency, throughput etc</li>
</ol>

<h2 id="3-in-progress-tasks">3. In-progress tasks</h2>

<ol>
  <li>Write the script to launch multiple instances of driver on different servers and test performance</li>
  <li>Tunning configurations to make the workload more balance</li>
  <li>Try to find some settings such that it only facilitate either read or write. And use it to distinguished the driver or schema design between workloadA and workloadB.</li>
</ol>
:ET